# App
NODE_ENV=development
PORT=4000
APP_NAME=CareerPointAcademy
APP_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000
ADMIN_FRONTEND_URL=http://localhost:3001

# Database (Postgres)
DATABASE_URL=postgresql://user:password@host:5432/dbname?schema=public

# Redis (queues, caching, rate limits)
REDIS_URL=redis://:password@host:6379
REDIS_HOST=host
REDIS_PORT=6379
REDIS_PASSWORD=password

# JWT/Auth
JWT_ACCESS_SECRET=change_me_access
JWT_REFRESH_SECRET=change_me_refresh
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=30d

# Super Admin Seed
SUPERADMIN_EMAIL=admin@example.com
SUPERADMIN_PASSWORD=change_me

# MinIO
MINIO_ENDPOINT=host
MINIO_PORT=9000
MINIO_ACCESS_KEY=minio_access_key
MINIO_SECRET_KEY=minio_secret_key
MINIO_BUCKET=academy
MINIO_USE_SSL=false
MINIO_REGION=

# File limits
MAX_PDF_BYTES=52428800
MAX_IMAGE_BYTES=2097152

# Watermark / Anti-piracy
WATERMARK_SECRET=change_me_watermark
NOTE_VIEW_SESSION_TTL_MINUTES=30
NOTE_VIEW_MAX_SESSIONS=2
NOTE_ACCESS_RATE_LIMIT=60
NOTE_ACCESS_RATE_WINDOW_SECONDS=120

# Throttling
THROTTLE_TTL_SECONDS=60
THROTTLE_LIMIT=120
AUTH_THROTTLE_LIMIT=10
PAYMENTS_THROTTLE_LIMIT=5
SEARCH_THROTTLE_LIMIT=60

# PhonePe (Standard Checkout, version-agnostic paths)
PHONEPE_API_BASE_URL=https://api-preprod.phonepe.com/apis/pg-sandbox
PHONEPE_PAY_PATH=/pg/v1/pay
PHONEPE_STATUS_PATH=/pg/v1/status/{merchantId}/{merchantTransactionId}
PHONEPE_MERCHANT_ID=merchant_id
PHONEPE_SALT_KEY=salt_key
PHONEPE_SALT_INDEX=1
PHONEPE_CALLBACK_URL=https://your-domain.com/payments/webhook/phonepe
PHONEPE_REDIRECT_URL=https://your-domain.com/payment/return
PHONEPE_WEBHOOK_BASIC_USER=
PHONEPE_WEBHOOK_BASIC_PASS=

# Payments
SUBSCRIPTION_STACKING=true
PENDING_ORDER_EXPIRE_MINUTES=30
PAYMENTS_RECONCILE_INTERVAL_SECONDS=60

# Email (SMTP)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=apikey_or_user
SMTP_PASS=secret
SMTP_FROM=no-reply@example.com
SMTP_SECURE=false

# Logging
LOG_LEVEL=info
LOG_NOTE_ACCESS_SAMPLE_RATE=0.3

# Search
ENABLE_PG_TRGM=true

# CMS
CMS_PUBLIC_KEYS=landing
CMS_STUDENT_KEYS=home,student

# Print Engine
PRINT_WORKER_CONCURRENCY=1
PRINT_MAX_QUESTIONS=200
PRINT_MAX_EMBEDDED_IMAGE_BYTES=20971520
PRINT_FAKE_PDF=false

# Security
REQUEST_ID_HEADER=X-Request-Id
BODY_SIZE_LIMIT=5mb
